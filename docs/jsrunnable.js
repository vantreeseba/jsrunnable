!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){const n=r(2);window&&(window.Runnable=n)},function(e,t,r){const n=r(3),s=r(4);e.exports=class{constructor(){this._workers=[],this._workerOpMap=new Map,this._resultMap=new Map,this._lastWorkerIndex=0;const e=e=>{const t=e.data;"result"===t.type&&this._resultMap.has(t.callId)&&this._resultMap.get(t.callId).resolve(t.result),"error"===t.type&&this._resultMap.has(t.name)&&this._resultMap.get(t.name).reject(t.err),this._resultMap.delete(t.callId)},t=e=>{const t=ev.data;this._resultMap.has(t.name)&&this._resultMap.get(t.name).reject(e)};this.cores=navigator&&navigator.hardwareConcurrency||1;for(var r=0;r<this.cores;r++){const r=n.buildWorker(s);r.onmessage=e,r.onerror=t,this._workers.push(r)}}add(e,t=1){const r=e.name||n.randomId("id");return this._compile(r,e,t),(...e)=>this._call(r,...e)}_call(e,...t){e=e.name||e;const r=this._workers[this._getAndMoveIndexInOpMap(e)],s=n.randomId("call");return r.postMessage({type:"call",args:t,name:e,callId:s}),new Promise((e,t)=>{this._resultMap.set(s,{resolve:e,reject:t})})}_getAndMoveIndexInOpMap(e){const t=this._workerOpMap.get(e),r=t.pop();return t.unshift(r),r}_compile(e,t,r=1){if(this._workerOpMap.has(e))return;r=r>=1?r:1;const s={type:"compile",func:n.functionToMessage(t,e)},o=this._workerOpMap.get(e)||[];for(var a=0;a<r;a++){const e=this._lastWorkerIndex%this.cores;this._workers[e].postMessage(s),-1===o.indexOf(e)&&o.push(e),this._lastWorkerIndex++}this._workerOpMap.set(e,o)}}},function(e,t){class r{static funcToString(e){let t=e.toString(),r=t.indexOf("(")>t.indexOf("=>");return t.startsWith("function")||(t=r?"function ("+t.substring(0,t.indexOf("=>"))+")"+t:"function "+t),t}static buildWorker(e){var t=new Blob(["("+r.funcToString(e)+")()"]),n=URL.createObjectURL(t,{type:"text/javascript"});return new Worker(n)}static functionToMessage(e,t){var n=r.funcToString(e),s=n.substring(n.indexOf("(")+1,n.indexOf(")")),o=n.substring(n.indexOf("{")+1,n.lastIndexOf("}"));return o.length<1&&(o=n.substring(n.indexOf("=>")+2)),{name:t||e.name,args:s,body:o}}static randomId(e=""){return e+"_"+Math.floor(Math.random()*Date.now())}}e.exports=r},function(e,t){e.exports=function(){const e=new Map,t=t=>{try{((e,t)=>{postMessage({type:"result",name:e.name,callId:e.callId,result:t})})(t,e.get(t.name)(...t.args))}catch(e){((e,t)=>{postMessage({type:"error",name:e.name,callId:e.callId,err:t})})(t,e)}};onmessage=(r=>{const n=r.data;"compile"===n.type?(t=>{const r=new Function(t.func.args.split(","),t.func.body);e.set(t.func.name,r)})(n):"call"===n.type&&t(n)})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9ydW5uYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dvcmtlci5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlJ1bm5hYmxlIiwid2luZG93IiwiVXRpbHMiLCJXb3JrZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJ0aGlzIiwiX3dvcmtlcnMiLCJfd29ya2VyT3BNYXAiLCJNYXAiLCJfcmVzdWx0TWFwIiwiX2xhc3RXb3JrZXJJbmRleCIsIm9ubWVzc2FnZSIsImV2IiwibWVzc2FnZSIsImRhdGEiLCJ0eXBlIiwiaGFzIiwiY2FsbElkIiwicmVzb2x2ZSIsInJlc3VsdCIsInJlamVjdCIsImVyciIsImRlbGV0ZSIsIm9uZXJyb3IiLCJjb3JlcyIsIm5hdmlnYXRvciIsImhhcmR3YXJlQ29uY3VycmVuY3kiLCJ3b3JrZXIiLCJidWlsZFdvcmtlciIsInB1c2giLCJmdW5jIiwid29ya2VyTnVtIiwicmFuZG9tSWQiLCJfY29tcGlsZSIsImFyZ3MiLCJfY2FsbCIsIl9nZXRBbmRNb3ZlSW5kZXhJbk9wTWFwIiwicG9zdE1lc3NhZ2UiLCJQcm9taXNlIiwic2V0Iiwib3BNYXAiLCJ3b3JrZXJJZCIsInBvcCIsInVuc2hpZnQiLCJvcCIsImZ1bmN0aW9uVG9NZXNzYWdlIiwiaW5kZXgiLCJpbmRleE9mIiwic3RyaW5nRnVuYyIsInRvU3RyaW5nIiwibm9BcmdQYXJlbnMiLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwid29ya2VyRnVuYyIsImJsb2IiLCJCbG9iIiwiZnVuY1RvU3RyaW5nIiwidXJpIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZnVuY1N0cmluZyIsImJvZHkiLCJsYXN0SW5kZXhPZiIsImxlbmd0aCIsInByZWZpeCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIkRhdGUiLCJub3ciLCJmdW5jTWFwIiwicG9zdFJlc3VsdCIsInBvc3RFcnJvciIsImNvbXBpbGVkIiwiRnVuY3Rpb24iLCJzcGxpdCIsImNvbXBpbGUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEs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LFFBQUEsV0FJQXhFLFFBQUF1RCxFQUFBdkQsS0FDQTJELE9BQ0EyQixRQVdBekQsZ0JBQUE0RCxFQUFBLElBQ0EsT0FBQUEsRUFBQSxJQUFBQyxLQUFBQyxNQUFBRCxLQUFBRSxTQUFBQyxLQUFBQyxRQUlBdEcsRUFBQUQsUUFBQW9DLGlCQ0hBbkMsRUFBQUQsUUEvREEsV0FDQSxNQUFBd0csRUFBQSxJQUFBOUQsSUE2Q0FyQyxFQUFBMEMsSUFDQSxJQXRDQSxFQUFBQSxFQUFBTSxLQUNBa0IsYUFDQXRCLEtBQUEsU0FDQXhDLEtBQUFzQyxFQUFBdEMsS0FDQTBDLE9BQUFKLEVBQUFJLE9BQ0FFLFlBa0NBb0QsQ0FBQTFELEVBQUF5RCxFQUFBekYsSUFBQWdDLEVBQUF0QyxLQUFBK0YsSUFBQXpELEVBQUFxQixPQUNLLE1BQUFiLEdBekJMLEVBQUFSLEVBQUFRLEtBQ0FnQixhQUNBdEIsS0FBQSxRQUNBeEMsS0FBQXNDLEVBQUF0QyxLQUNBMEMsT0FBQUosRUFBQUksT0FDQUksU0FxQkFtRCxDQUFBM0QsRUFBQVEsS0FJQVYsVUFBQSxDQUFBQyxJQUNBLE1BQUFDLEVBQUFELEVBQUFFLEtBRUEsWUFBQUQsRUFBQUUsS0FwQkEsQ0FBQUYsSUFDQSxNQUFBNEQsRUFBQSxJQUFBQyxTQUFBN0QsRUFBQWlCLEtBQUFJLEtBQUF5QyxNQUFBLEtBQUE5RCxFQUFBaUIsS0FBQStCLE1BQ0FTLEVBQUEvQixJQUFBMUIsRUFBQWlCLEtBQUF2RCxLQUFBa0csSUFrQkFHLENBQUEvRCxHQUNBLFNBQUFBLEVBQUFFLE1BQUE1QyxFQUFBMEMiLCJmaWxlIjoiaW5kZXguanM/N2M4Y2Q0YmQ0Zjc5YzY5MmIyZTQiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiY29uc3QgUnVubmFibGUgPSByZXF1aXJlKCcuL3J1bm5hYmxlJyk7XG5cbmlmKHdpbmRvdykge1xuICB3aW5kb3cuUnVubmFibGUgPSBSdW5uYWJsZTtcbn1cbiIsImNvbnN0IFV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuY29uc3QgV29ya2VyID0gcmVxdWlyZSgnLi93b3JrZXInKTtcbi8qKlxuICogUnVubmFibGVcbiAqL1xuY2xhc3MgUnVubmFibGUge1xuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtBcnJheX0gZnVuY3MgYXJyYXkgb2YgZnVuY3Rpb25zIHRvIHJ1biBpbiB3b3JrZXJzXG4gICAqIEByZXR1cm4ge1J1bm5hYmxlfVxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fd29ya2VycyA9IFtdO1xuICAgIHRoaXMuX3dvcmtlck9wTWFwID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX3Jlc3VsdE1hcCA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9sYXN0V29ya2VySW5kZXggPSAwO1xuXG4gICAgY29uc3Qgb25tZXNzYWdlID0gKGV2KSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZXYuZGF0YTtcblxuICAgICAgaWYobWVzc2FnZS50eXBlID09PSAncmVzdWx0JyAmJiB0aGlzLl9yZXN1bHRNYXAuaGFzKG1lc3NhZ2UuY2FsbElkKSkge1xuICAgICAgICB0aGlzLl9yZXN1bHRNYXAuZ2V0KG1lc3NhZ2UuY2FsbElkKS5yZXNvbHZlKG1lc3NhZ2UucmVzdWx0KTtcbiAgICAgIH1cblxuICAgICAgaWYobWVzc2FnZS50eXBlID09PSAnZXJyb3InICYmIHRoaXMuX3Jlc3VsdE1hcC5oYXMobWVzc2FnZS5uYW1lKSkge1xuICAgICAgICB0aGlzLl9yZXN1bHRNYXAuZ2V0KG1lc3NhZ2UubmFtZSkucmVqZWN0KG1lc3NhZ2UuZXJyKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcmVzdWx0TWFwLmRlbGV0ZShtZXNzYWdlLmNhbGxJZCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uZXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZXYuZGF0YTtcbiAgICAgIGlmKHRoaXMuX3Jlc3VsdE1hcC5oYXMobWVzc2FnZS5uYW1lKSkge1xuICAgICAgICB0aGlzLl9yZXN1bHRNYXAuZ2V0KG1lc3NhZ2UubmFtZSkucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfTtcblxuXG4gICAgdGhpcy5jb3JlcyA9IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSB8fCAxO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb3JlczsgaSsrKSB7XG4gICAgICBjb25zdCB3b3JrZXIgPSBVdGlscy5idWlsZFdvcmtlcihXb3JrZXIpO1xuICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IG9ubWVzc2FnZTtcbiAgICAgIHdvcmtlci5vbmVycm9yID0gb25lcnJvcjtcblxuICAgICAgdGhpcy5fd29ya2Vycy5wdXNoKHdvcmtlcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBmdW5jdGlvbnMgdG8gd29ya2VycyB0byBjYWxsLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIEZ1bmN0aW9uIHRvIGFzc2lnbiB0byB3b3JrZXJzLlxuICAgKi9cbiAgYWRkKGZ1bmMsIHdvcmtlck51bSA9IDEpIHtcbiAgICBjb25zdCBuYW1lID0gZnVuYy5uYW1lIHx8IFV0aWxzLnJhbmRvbUlkKCdpZCcpO1xuICAgIHRoaXMuX2NvbXBpbGUobmFtZSwgZnVuYywgd29ya2VyTnVtKTtcblxuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2NhbGwobmFtZSwgLi4uYXJncyk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIHRoZSByZW1vdGUgZnVuY3Rpb24uXG4gICAqL1xuICBfY2FsbChuYW1lLCAuLi5hcmdzKSB7XG4gICAgbmFtZSA9IG5hbWUubmFtZSB8fCBuYW1lO1xuICAgIGNvbnN0IHdvcmtlciA9IHRoaXMuX3dvcmtlcnNbdGhpcy5fZ2V0QW5kTW92ZUluZGV4SW5PcE1hcChuYW1lKV07XG4gICAgY29uc3QgY2FsbElkID0gVXRpbHMucmFuZG9tSWQoJ2NhbGwnKTtcblxuICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICB0eXBlOidjYWxsJyxcbiAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgY2FsbElkLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX3Jlc3VsdE1hcC5zZXQoY2FsbElkLCB7cmVzb2x2ZSwgcmVqZWN0fSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogIEdldCdzIHRoZSBuZXh0IHdvcmtlciB0byBjYWxsIGluIGEgcm91bmQgcm9iaW4gZmFzaGlvbi4gXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGdldCB3b3JrZXIgbWFwIGZvci5cbiAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgd29ya2VyIGlkIHRvIGNhbGwuXG4gICAqL1xuICBfZ2V0QW5kTW92ZUluZGV4SW5PcE1hcChuYW1lKSB7XG4gICAgY29uc3Qgb3BNYXAgPSB0aGlzLl93b3JrZXJPcE1hcC5nZXQobmFtZSk7XG4gICAgY29uc3Qgd29ya2VySWQgPSBvcE1hcC5wb3AoKTtcbiAgICBvcE1hcC51bnNoaWZ0KHdvcmtlcklkKTtcbiAgICByZXR1cm4gd29ya2VySWQ7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJuYWwgQ29tcGlsZSBGdW5jdGlvblxuICAgKi9cbiAgX2NvbXBpbGUobmFtZSwgb3AsIHdvcmtlck51bSA9IDEpIHtcbiAgICBpZih0aGlzLl93b3JrZXJPcE1hcC5oYXMobmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3b3JrZXJOdW0gPSB3b3JrZXJOdW0gPj0gMSA/IHdvcmtlck51bSA6IDE7XG5cbiAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgdHlwZTogJ2NvbXBpbGUnLFxuICAgICAgZnVuYzogVXRpbHMuZnVuY3Rpb25Ub01lc3NhZ2Uob3AsIG5hbWUpLFxuICAgIH07XG5cbiAgICBjb25zdCBvcE1hcCA9IHRoaXMuX3dvcmtlck9wTWFwLmdldChuYW1lKSB8fCBbXTtcblxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB3b3JrZXJOdW07IGkgKyspIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbGFzdFdvcmtlckluZGV4ICUgdGhpcy5jb3JlcztcbiAgICAgIHRoaXMuX3dvcmtlcnNbaW5kZXhdLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgaWYob3BNYXAuaW5kZXhPZihpbmRleCkgPT09IC0xKSB7XG4gICAgICAgIG9wTWFwLnB1c2goaW5kZXgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fbGFzdFdvcmtlckluZGV4Kys7XG4gICAgfVxuXG4gICAgdGhpcy5fd29ya2VyT3BNYXAuc2V0KG5hbWUsIG9wTWFwKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJ1bm5hYmxlO1xuIiwiLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGpzcnVubmFibGVcbiAqL1xuY2xhc3MgVXRpbHMge1xuICAvKipcbiAgICogU3RyaW5naWZpZXMgYSBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIEZ1bmN0aW9uIHRvIHN0cmluZ2lmeS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmdpZmllZCBmdW5jdGlvbi5cbiAgICovXG4gIHN0YXRpYyBmdW5jVG9TdHJpbmcoZnVuYykge1xuICAgIGxldCBzdHJpbmdGdW5jID0gZnVuYy50b1N0cmluZygpO1xuICAgIGxldCBub0FyZ1BhcmVucyA9IHN0cmluZ0Z1bmMuaW5kZXhPZignKCcpID4gc3RyaW5nRnVuYy5pbmRleE9mKCc9PicpO1xuICAgIGlmKCFzdHJpbmdGdW5jLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uJykpe1xuICAgICAgaWYobm9BcmdQYXJlbnMpIHtcbiAgICAgICAgc3RyaW5nRnVuYyA9ICdmdW5jdGlvbiAoJyArIHN0cmluZ0Z1bmMuc3Vic3RyaW5nKDAsIHN0cmluZ0Z1bmMuaW5kZXhPZignPT4nKSkgKyAnKScgKyBzdHJpbmdGdW5jO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyaW5nRnVuYyA9ICdmdW5jdGlvbiAnICsgc3RyaW5nRnVuYztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaW5nRnVuYztcbiAgfVxuXG4gIC8qKlxuICAqIF9idWlsZFdvcmtlclxuICAqL1xuICBzdGF0aWMgYnVpbGRXb3JrZXIod29ya2VyRnVuYykge1xuICAgIHZhciBibG9iID0gbmV3IEJsb2IoWycoJyArIFV0aWxzLmZ1bmNUb1N0cmluZyh3b3JrZXJGdW5jKSArICcpKCknXSk7XG4gICAgdmFyIHVyaSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYiwge3R5cGU6ICd0ZXh0L2phdmFzY3JpcHQnfSk7XG4gICAgY29uc3Qgd29ya2VyID0gbmV3IFdvcmtlcih1cmkpO1xuXG4gICAgcmV0dXJuIHdvcmtlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUdXJuIGEgZnVuY3Rpb24gaW50byBhbiBvYmplY3QgZm9yIHNlbmRpbmcgdG8gYSB3b3JrZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmNcbiAgICogQHJldHVybiB7T2JqZWN0fSBGdW5jdGlvbiBtZXNzYWdlIG9iamVjdC5cbiAgICovXG4gIHN0YXRpYyBmdW5jdGlvblRvTWVzc2FnZShmdW5jLCBuYW1lKSB7XG4gICAgdmFyIGZ1bmNTdHJpbmcgPSBVdGlscy5mdW5jVG9TdHJpbmcoZnVuYyk7XG4gICAgdmFyIGFyZ3MgPSBmdW5jU3RyaW5nLnN1YnN0cmluZyhmdW5jU3RyaW5nLmluZGV4T2YoJygnKSArIDEsIGZ1bmNTdHJpbmcuaW5kZXhPZignKScpKTtcbiAgICB2YXIgYm9keSA9IGZ1bmNTdHJpbmcuc3Vic3RyaW5nKGZ1bmNTdHJpbmcuaW5kZXhPZigneycpICsgMSwgZnVuY1N0cmluZy5sYXN0SW5kZXhPZignfScpKTtcblxuICAgIGlmKGJvZHkubGVuZ3RoIDwgMSkge1xuICAgICAgYm9keSA9IGZ1bmNTdHJpbmcuc3Vic3RyaW5nKGZ1bmNTdHJpbmcuaW5kZXhPZignPT4nKSArIDIpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBuYW1lIHx8IGZ1bmMubmFtZSxcbiAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICBib2R5OiBib2R5LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHJhbmRvbSBpZC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJlZml4IEEgc3RyaW5nIHRvIHByZWZpeCB0aGUgaWQgd2l0aC5cbiAgICogQHJldHVybiB7U3RyaW5nfSBBIHN0cmluZyBpZC5cbiAgICovXG4gIHN0YXRpYyByYW5kb21JZChwcmVmaXggPSAnJykge1xuICAgIHJldHVybiBwcmVmaXggKyAnXycgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBEYXRlLm5vdygpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFV0aWxzO1xuIiwiLyoqXG4gICogd29ya2VyXG4gICovXG5mdW5jdGlvbiB3b3JrZXIoKSB7XG4gIGNvbnN0IGZ1bmNNYXAgPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIFBvc3RzIHRoZSByZXN1bHQgb2YgYSBjYWxsZWQgd29ya2VyIGZ1bmN0aW9uIGJhY2sgdG8gdGhlIG1haW4gdGhyZWFkLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWVzc2FnZSBNZXNzYWdlIG9iamVjdCBmb3IgZnVuY3Rpb24gY2FsbGVkLiBcbiAgICogQHBhcmFtIHsqfSByZXN1bHQgVGhlIHJlc3VsdCBvZiB0aGUgZnVuY3Rpb24gY2FsbC5cbiAgICovXG4gIGNvbnN0IHBvc3RSZXN1bHQgPSAobWVzc2FnZSwgcmVzdWx0KSA9PiB7XG4gICAgcG9zdE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogJ3Jlc3VsdCcsXG4gICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsXG4gICAgICBjYWxsSWQ6IG1lc3NhZ2UuY2FsbElkLFxuICAgICAgcmVzdWx0XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBvc3QgYW4gZXJyb3IgYmFjayB0byB0aGUgbWFpbiB0aHJlYWQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtZXNzYWdlIHRoZSBtZXNzYWdlIHdoaWNoIGNhbGxlZFxuICAgKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGVyciBUaGUgZXJyb3IgdG8gcG9zdCB0byBtYWluIHRocmVhZC5cbiAgICovXG4gIGNvbnN0IHBvc3RFcnJvciA9IChtZXNzYWdlLCBlcnIpID0+IHtcbiAgICBwb3N0TWVzc2FnZSh7XG4gICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgbmFtZTogbWVzc2FnZS5uYW1lLFxuICAgICAgY2FsbElkOiBtZXNzYWdlLmNhbGxJZCxcbiAgICAgIGVyclxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGZ1bmN0aW9uIGZyb20gdGhlIG1lc3NhZ2Ugb2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtZXNzYWdlIE1lc3NhZ2Ugb2JqZWN0IGZyb20gbWFpbiB0aHJlYWQuXG4gICAqL1xuICBjb25zdCBjb21waWxlID0gKG1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBjb21waWxlZCA9IG5ldyBGdW5jdGlvbihtZXNzYWdlLmZ1bmMuYXJncy5zcGxpdCgnLCcpLCBtZXNzYWdlLmZ1bmMuYm9keSk7XG4gICAgZnVuY01hcC5zZXQobWVzc2FnZS5mdW5jLm5hbWUsIGNvbXBpbGVkKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsbCB0aGUgZnVuY3Rpb24gZnJvbSB0aGUgbWVzc2FnZSBvYmplY3QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtZXNzYWdlIE1lc3NhZ2Ugb2JqZWN0IGZyb20gbWFpbiB0aHJlYWQuXG4gICAqL1xuICBjb25zdCBjYWxsID0gKG1lc3NhZ2UpID0+IHtcbiAgICB0cnkge1xuICAgICAgcG9zdFJlc3VsdChtZXNzYWdlLCBmdW5jTWFwLmdldChtZXNzYWdlLm5hbWUpKC4uLm1lc3NhZ2UuYXJncykpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcG9zdEVycm9yKG1lc3NhZ2UsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIG9ubWVzc2FnZSA9IChldikgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBldi5kYXRhO1xuXG4gICAgbWVzc2FnZS50eXBlID09PSAnY29tcGlsZScgPyBjb21waWxlKG1lc3NhZ2UpXG4gICAgICA6IG1lc3NhZ2UudHlwZSA9PT0gJ2NhbGwnID8gY2FsbChtZXNzYWdlKVxuICAgICAgOiAwO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdvcmtlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=